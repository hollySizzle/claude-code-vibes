# コーディング規約

## 📋 目次

- [コーディング規約](#コーディング規約)
  - [📋 目次](#-目次)
  - [1. 全般](#1-全般)
  - [2. 検索ライブラリ](#2-検索ライブラリ)
  - [3. フロントエンド](#3-フロントエンド)
  - [4. DB マイグレーション](#4-db-マイグレーション)
  - [5. テストデータ](#5-テストデータ)
  - [6. 表示層クラス](#6-表示層クラス)
  - [7. 基幹クラス分離](#7-基幹クラス分離)
  - [8. 環境変数管理](#8-環境変数管理)
    - [運用ルール](#運用ルール)
  - [関連ドキュメント](#関連ドキュメント)

## 1. 全般

- [TODO: フレームワーク] Style Guide 準拠
- [TODO: Linter ツール名] による静的解析必須
- コメントは[TODO: コメント言語]で記載

## 2. 検索ライブラリ

- [TODO: 検索ライブラリ名] 利用モデルは [TODO: 検索可能属性設定メソッド] を明示定義し、必要属性・関連のみ許可

## 3. フロントエンド

- インタラクティブ UI 実装は [TODO: JS フレームワーク名] 優先
- 再利用コントローラは [TODO: JS ファイルパス] 配置、実装前に既存確認
- [TODO: フロントエンドライブラリ固有の注意事項を記載]

## 4. DB マイグレーション

- [TODO: フレームワーク名] 流儀準拠
- [TODO: 生 SQL 実行方法] 等の平文 SQL 基本使用禁止
- [TODO: 列挙型名] は [TODO: モデル層] でバリデーション担保

## 5. テストデータ

[TODO: テストデータファイル名] / [TODO: テストデータファクトリライブラリ名] を参照

## 6. 表示層クラス

[TODO: 表示層クラス名] クラスを参照

- クラス変更時はドキュメント必須更新
- [TODO: 表示層設定ファイルパス] 内 yml 極力変更禁止
- 変更時は指示者許可必須

## 7. 基幹クラス分離

**基幹クラス（app/presenters/concerns/presenter/）業務ロジック混入絶対禁止**

- 特定モデル名･フィールド名条件分岐禁止
- 業務固有 enum 値･選択肢ハードコード禁止
- プロジェクト固有 I18n キー使用禁止

**業務ロジックは各 Presenter クラスで実装**

- select*collection*{field_key}メソッド命名規則準拠
- 基幹クラスは汎用仕組みのみ提供

## 8. 環境変数管理

**責任分離原則**: 用途別適切ファイル配置

### 運用ルール

- **重複禁止**: 同一変数複数ファイル定義禁止
- **命名規則**: 用途明確名使用
- **セキュリティ**: 認証情報適切管理、コミット前確認
- **ドキュメント**: 新規追加時用途コメント明記

## 関連ドキュメント

@vibes/specs/architecture.md
